!function(e){e.module("angular-khorzu-utils.config",[]).value("angular-khorzu-utils.config",{debug:!0}),e.module("angular-khorzu-utils.directives",["ngMaterial"]),e.module("angular-khorzu-utils.filters",[]),e.module("angular-khorzu-utils.services",["angularLocalStorage","ngMaterial"]),e.module("angular-khorzu-utils.controllers",[]),e.module("angular-khorzu-utils",["angular-khorzu-utils.config","angular-khorzu-utils.directives","angular-khorzu-utils.filters","angular-khorzu-utils.services","angular-khorzu-utils.controllers"])}(angular),angular.module("angular-khorzu-utils.directives").run(["$templateCache",function(e){e.put("angular-khorzu-utils/directives/loading.tpl.html",'<div class="overally" ng-show="show" layout="" layout-fill="" layout-align="center center" aria-hidden="true" style="">\r\n    <div class="" aria-hidden="true" style="">\r\n        <md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular>\r\n    </div>\r\n</div>\r\n<ng-transclude></ng-transclude>\r\n')}]),function(){"use strict";function e(e,t){}e.$inject=["$element","$scope"],angular.module("angular-khorzu-utils.directives").directive("kLoading",function(){return{restrict:"A",replace:!1,transclude:!0,templateUrl:"angular-khorzu-utils/directives/loading.tpl.html",controller:e,scope:{show:"=kLoading"}}})}(),function(){"use strict";function e(e,r,u,n,o,l,a,i){return t.jwtRequest=function(r,u,l,a,i){return o({method:u,data:l,url:t.configs.api_url+""+r,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:e.user?e.user.token:null}}).success(function(){i!=-1&&n(function(){t.toast(i?i:"درخواست شما با موفقیت انجام شد.","success",2e3)},500)}).error(function(e,r,u,n){var o=a?a[r]:null;if(!o)switch(r){case-1:o="متاسفانه تلاش برای اتصال به سرور موفقیت آمیز نبود !";break;case 422:o="لطفا اطلاعات درخواست شده را به صورت صحیح وارد کنید.";break;case 401:o="دسترسی شما به این قسمت مورد تایید نمی باشد.",t.logout();break;case 500:o="متاسفانه سرور دچار اشکال شده !";break;default:o="خطای "+r}console.error(o),t.toast(o,"error")})},i.bind(e,"user"),t.login=function(r,u){return t.jwtRequest(t.configs.login_route,"POST",r,{401:"نام کاربری یا رمز عبور اشتباه است !"},"سلام؛ خوش آمدید !").success(function(t){e.user=u?t[u]:t})},t.logout=function(){return e.user=null,r.go(t.configs.login_state),u.resolve()},t.toast=function(e,t,r){r=r?r:5e3,l.show({template:'<md-toast class="'+t+'"><span flex>'+e+"</span></md-toast>",position:"top left",hideDelay:r})},t.alert=function(e,t,r){a.show(a.alert({preserveScope:!0,autoWrap:!0,skipHide:!0}).title(t?t:"اطلاع").textContent(e).ok(r?r:"خُب"))},t}e.$inject=["$rootScope","$state","$q","$timeout","$http","$mdToast","$mdDialog","storage"];var t={configs:{api_url:document.getElementById("api_url").getAttribute("value"),login_route:"auth/login",login_state:"login"}};angular.module("angular-khorzu-utils.services").service("khorzu",e)}();